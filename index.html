<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Widget Builder</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=M+PLUS+Rounded+1c&family=Kosugi+Maru&family=Shippori+Mincho+B1&family=Zen+Maru+Gothic&family=Noto+Serif+JP&display=swap" rel="stylesheet">
  <style>
  body {
    margin: 0;
    display: flex;
    height: 100vh;
    font-family: 'Noto Sans JP', sans-serif;
    background: #edf0f5;
  }
  .sidebar {
    width: 340px;
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(10px);
    padding: 30px;
    box-sizing: border-box;
    border-right: 1px solid rgba(200, 200, 200, 0.4);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 30px;
    box-shadow: 4px 0 10px rgba(0,0,0,0.05);
  }
  .card {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 20px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    padding: 24px;
  }
  .main {
    flex-grow: 1;
    background: #ffffff;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 60px;
  }
  .widget {
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    background-color: #191970;
    color: #ffffff;
    width: 300px;
    height: 150px;
    border-radius: 20px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  }
  label {
    display: block;
    margin-bottom: 8px;
    font-size: 15px;
    font-weight: 600;
    color: #333;
  }
  input, select {
  width: 100%;
  box-sizing: border-box; /* ★ここ追加！ */
  padding: 12px 14px;
  font-size: 15px;
  margin-bottom: 20px;
  border: 1px solid #ccc;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  background: rgba(255,255,255,0.8);
  backdrop-filter: blur(4px);
  outline: none;
}

</style>


</head>
<body>

  <div class="sidebar">
  <div class="card">
  <label>フォント</label>
  <button id="toggleFontList" style="width: 100%; padding: 12px 14px; border: 1px solid #ccc; border-radius: 12px; background: white; cursor: pointer; font-size: 15px; text-align: left;">
    フォントを選ぶ ▼
  </button>

  <ul id="fontList" style="list-style: none; padding: 0; margin: 10px 0 0 0; display: none;">
    <li data-font="'Noto Sans JP', sans-serif" style="padding: 12px; cursor: pointer;">
      <div style="font-family: 'Noto Sans JP', sans-serif;">
        <strong>Noto Sans JP</strong><br><span style="color: #999; font-size: 12px;">文字もじモジ</span>
      </div>
    </li>
    <li data-font="'M PLUS Rounded 1c', sans-serif" style="padding: 12px; cursor: pointer;">
      <div style="font-family: 'M PLUS Rounded 1c', sans-serif;">
        <strong>M PLUS Rounded 1c</strong><br><span style="color: #999; font-size: 12px;">文字もじモジ</span>
      </div>
    </li>
    <li data-font="'Kosugi Maru', sans-serif" style="padding: 12px; cursor: pointer;">
      <div style="font-family: 'Kosugi Maru', sans-serif;">
        <strong>Kosugi Maru</strong><br><span style="color: #999; font-size: 12px;">文字もじモジ</span>
      </div>
    </li>
    <li data-font="'Shippori Mincho', serif" style="padding: 12px; cursor: pointer;">
      <div style="font-family: 'Shippori Mincho', serif;">
        <strong>Shippori Mincho</strong><br><span style="color: #999; font-size: 12px;">文字もじモジ</span>
      </div>
    </li>
    <li data-font="'Zen Maru Gothic', sans-serif" style="padding: 12px; cursor: pointer;">
      <div style="font-family: 'Zen Maru Gothic', sans-serif;">
        <strong>Zen Maru Gothic</strong><br><span style="color: #999; font-size: 12px;">文字もじモジ</span>
      </div>
    </li>
  </ul>
</div>





    <label for="bgColor">背景色</label>
    <input type="color" id="bgColor" value="#191970">

    <label for="textColor">文字色</label>
    <input type="color" id="textColor" value="#ffffff">

    <label for="shape">形</label>
    <select id="shape">
      <option value="square">四角</option>
      <option value="rounded">丸みあり</option>
    </select>

    <label for="width">幅(px)</label>
    <input type="number" id="width" value="300">

    <label for="height">高さ(px)</label>
    <input type="number" id="height" value="150">

    <div style="margin-top: 30px;">
      <h3>このウィジェットのリンク</h3>
      <input type="text" id="generatedUrl" style="width: 100%; font-size: 14px; padding: 8px;" readonly>
    </div>
    </div>
  </div>

  <div class="main">
    <div class="widget" id="widget">
      こんにちは
    </div>
  </div>

  <script>
    let selectedFontFamily = "'Noto Sans JP', sans-serif"; // デフォルト
const widget = document.getElementById('widget');

function updateWidget() {
  const text = document.getElementById('text').value;
  const bgColor = document.getElementById('bgColor').value;
  const textColor = document.getElementById('textColor').value;
  const shape = document.getElementById('shape').value;
  const width = document.getElementById('width').value;
  const height = document.getElementById('height').value;
  const fontSize = document.getElementById('fontSize').value;
  const fontFamily = selectedFontFamily;

  widget.textContent = text;
  widget.style.backgroundColor = bgColor;
  widget.style.color = textColor;
  widget.style.width = width + 'px';
  widget.style.height = height + 'px';
  widget.style.fontSize = fontSize + 'px';
  widget.style.fontFamily = fontFamily;
  widget.style.borderRadius = shape === 'rounded' ? '16px' : '0px';

  const baseUrl = window.location.origin + window.location.pathname.replace('index.html', 'widget.html');
  const url = `${baseUrl}?text=${encodeURIComponent(text)}&bgColor=${encodeURIComponent(bgColor)}&textColor=${encodeURIComponent(textColor)}&shape=${shape}&width=${width}&height=${height}&fontSize=${fontSize}&fontFamily=${encodeURIComponent(fontFamily)}`;
  document.getElementById('generatedUrl').value = url;
}

// リスト開閉＋矢印切り替え
const toggleBtn = document.getElementById('toggleFontList');
toggleBtn.addEventListener('click', () => {
  const fontList = document.getElementById('fontList');
  if (fontList.style.display === 'none') {
    fontList.style.display = 'block';
    toggleBtn.innerHTML = "フォントを選ぶ ▲";
  } else {
    fontList.style.display = 'none';
    toggleBtn.innerHTML = "フォントを選ぶ ▼";
  }
});

// フォント選択
document.querySelectorAll('#fontList li').forEach(li => {
  li.addEventListener('click', () => {
    const fontFamily = li.getAttribute('data-font');
    selectedFontFamily = fontFamily;
    widget.style.fontFamily = fontFamily;

    // ハイライト
    document.querySelectorAll('#fontList li').forEach(item => {
      item.style.background = 'transparent';
    });
    li.style.background = '#eef2f7';
    
    updateWidget();

    // リストを閉じる＋ボタンを戻す
    document.getElementById('fontList').style.display = 'none';
    toggleBtn.innerHTML = "フォントを選ぶ ▼";
  });
});

window.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('input, select').forEach(el => {
    el.addEventListener('input', updateWidget);
    el.addEventListener('change', updateWidget);
  });

  updateWidget();
});





  </script>

</body>
</html>
